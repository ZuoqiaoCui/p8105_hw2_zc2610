---
title: "p8105_hw2_zc2610"
author: "Zuoqiao Cui"
date: "2022-10-01"
output: github_document
---

```{r}
library(tidyverse)
library(readxl)
library(dplyr)
```
## Problem 2

Import, clean, and organize the data for Mr Trash Wheel

```{r}
MrTrashWheel_df = 
    read_excel("./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",sheet = "Mr. Trash Wheel",range = "A2:N535") %>% 
    janitor::clean_names() %>% 
    drop_na(dumpster) %>% 
    mutate(
      dumpster = as.character(dumpster),
      sports_balls = as.integer(round(sports_balls))
    )
```
Import, clean, and organize the data for Professor Trash Wheel

```{r}
ProfessorTrashWheel_df = 
    read_excel("./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",sheet = "Professor Trash Wheel",range = "A2:N117") %>% 
    janitor::clean_names() %>% 
    drop_na(dumpster) %>% 
    mutate(
      dumpster = as.character(dumpster),
      sports_balls = as.integer(round(sports_balls))
    )
```

Combine two sheets

```{r}
MrTrashWheel_df = MrTrashWheel_df %>% 
 mutate(type = "Mr. Trash Wheel")
ProfessorTrashWheel_df = ProfessorTrashWheel_df %>% 
  mutate(type = "Professor Trash Wheel")
TrashWheel_tidy = bind_rows(MrTrashWheel_df,ProfessorTrashWheel_df) %>% 
  janitor::clean_names()
```

Description
There are totally `r nrow(MrTrashWheel_df)` observations and `r ncol(MrTrashWheel_df)` variables in the Mr Trash Wheel dataset. 
There are totally `r nrow(ProfessorTrashWheel_df)` observations and `r ncol(ProfessorTrashWheel_df)` variables in the Professor Trash Wheel dataset. 
There are totally `r nrow(TrashWheel_tidy)` observations and `r ncol(TrashWheel_tidy)` variables in the final combined dataset. 
Key variables contain "dumpster","year","weight_tons","sports_balls" and so on.
The total weight of trash collected by Professor Trash Wheel is `r sum(ProfessorTrashWheel_df$weight_tons)`
The total number of sports balls collected by Mr. Trash Wheel in 2020 is `r sum(filter(MrTrashWheel_df,year == 2020)$sports_balls)`

## Problem 3

```{r}
pols_month_df = 
    read_csv("./data/fivethirtyeight_datasets/pols-month.csv") %>% 
    janitor::clean_names() %>% 
    separate(mon,into = c("year","month","day"),sep = "-") %>% 
  mutate(
    month = recode(month, "01" = "January",
                  "02" = "February",
                  "03" = "March",
                  "04" = "April",
                  "05" = "May",
                  "06" = "June",
                  "07" = "July",
                  "08" = "Augest",
                  "09" = "September",
                  "10" = "October",
                  "11" = "November", 
                  "12" = "December"
    )
  )
```






